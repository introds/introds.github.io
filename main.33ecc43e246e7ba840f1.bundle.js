webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return Y._23(0,[(n()(),Y._8(0,0,null,null,4,"div",[["class","prediction"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.getPrediction()&&e}return e},null,null)),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,null,null,null,null)),(n()(),Y._22(-1,null,["Predict UFO location"])),(n()(),Y._22(-1,null,["\n"]))],null,null)}function u(n){return Y._23(0,[(n()(),Y._2(16777216,null,null,1,null,e)),Y._6(1,16384,null,0,S.c,[Y.Q,Y.N],{ngIf:[0,"ngIf"]},null),(n()(),Y._22(-1,null,["\n"])),(n()(),Y._8(3,0,null,null,4,"div",[["class","year"]],null,null,null,null,null)),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(5,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),Y._22(6,null,["\n    ","\n  "])),(n()(),Y._22(-1,null,["\n"])),(n()(),Y._22(-1,null,["\n"])),(n()(),Y._8(9,0,null,null,0,"div",[["id","map"]],null,null,null,null,null)),(n()(),Y._22(-1,null,["\n"])),(n()(),Y._8(11,0,null,null,12,"div",[["class","slidecontainer"]],null,null,null,null,null)),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(13,0,null,null,1,"h2",[["style","text-align: center; margin-top: -15px"]],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;if("click"===t){e=!1!==u.changeType()&&e}return e},null,null)),(n()(),Y._22(14,null,[""," count: ",""])),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(16,0,null,null,0,"input",[["class","slider"],["id","myRange"],["type","range"]],[[8,"min",0],[8,"max",0],[8,"value",0]],null,null,null,null)),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(18,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),Y._22(19,null,["",""])),(n()(),Y._22(-1,null,["\n  "])),(n()(),Y._8(21,0,null,null,1,"span",[["style","float: right"]],null,null,null,null,null)),(n()(),Y._22(22,null,["",""])),(n()(),Y._22(-1,null,["\n"])),(n()(),Y._22(-1,null,["\n"]))],function(n,t){n(t,1,0,!t.component.predicted)},function(n,t){var l=t.component;n(t,6,0,l.currentYear),n(t,14,0,l.filterType,l.count),n(t,16,0,Y._11(1,"",l.minYear,""),Y._11(1,"",l.maxYear,""),Y._11(1,"",l.currentYear,"")),n(t,19,0,l.minYear),n(t,22,0,l.maxYear)})}function i(n){return Y._23(0,[(n()(),Y._8(0,0,null,null,1,"app-root",[],null,null,null,u,k)),Y._6(1,4243456,null,0,v,[P.c],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var r={production:!0},a=function(){function n(){}return n}(),o=function(){function n(){}return n}(),c=l("ug0V"),s=(l.n(c),l("HGKI")),_=l("b1rx"),d=l("zS/N"),h=l("Wnbk"),f=l("dPqa"),p=l("XKz0"),g=l("kgMG"),m=l("Gdc0"),y=l("65Ph"),b=l("gNjK"),v=function(){function n(n){this.http=n,this.sights=[],this.maxYear=100,this.minYear=0,this.count=0,this.currentYear=0,this.filterType="Total"}return n.prototype.ngAfterViewInit=function(){var n=this;document.getElementById("myRange").oninput=function(t){var l=t.target.value;n.currentYear=parseInt(l,10),n.filterByDate()},this.vectorSource=new d.b({}),this.predictionSource=new d.b({}),this.view=new s.b({center:m.i([-97.9411111,29.8830556],"EPSG:4326","EPSG:3857"),zoom:4}),this.map=new s.a({target:"map",layers:[new h.a({source:new f.a}),new _.a({source:this.predictionSource,style:this.createStyle("red","red")}),new _.a({source:this.vectorSource})],view:this.view}),this.http.get("./assets/complete.json").subscribe(function(t){t.forEach(function(n){n.datetime=new Date(n.datetime)}),n.sights=t,n.sights.sort(function(n,t){return n.datetime>t.datetime?1:n.datetime<t.datetime?-1:0}),n.minYear=n.sights[0].datetime.getFullYear(),n.currentYear=n.sights[0].datetime.getFullYear(),n.maxYear=n.sights[n.sights.length-1].datetime.getFullYear()})},n.prototype.filterByDate=function(){var n=this,t=new Date(this.currentYear+"-12-31"),l=[],e=[];this.vectorSource.clear(),e="Total"===this.filterType?this.sights.filter(function(n){return n.datetime<=t}):this.sights.filter(function(t){return t.datetime.getFullYear()===n.currentYear}),this.count=e.length;for(var u=0,i=e;u<i.length;u++){var r=i[u],a=new g.a({shape:r.shape,datetime:r.datetime,country:r.country,city:r.city,state:r.state,duration:r.duration,geometry:new y.a(m.i([r.longitude,r.latitude],"EPSG:4326","EPSG:3857"))});l.push(a)}this.vectorSource.addFeatures(l)},n.prototype.changeType=function(){"Total"===this.filterType?this.filterType="Yearly":this.filterType="Total",this.filterByDate()},n.prototype.getPrediction=function(){var n=new Date,t=this.sights.sort(function(t,l){return Math.abs(n-t.datetime)-Math.abs(n-l.datetime)}).slice(0,30),l=new o;l.latitude=this.getAvg(t,"latitude"),l.longitude=this.getAvg(t,"longitude"),l.duration=this.getAvg(t,"duration");var e=new y.a(m.i([l.longitude,l.latitude],"EPSG:4326","EPSG:3857"));this.predictionSource.addFeature(new g.a({datetime:n,duration:l.duration,geometry:e})),this.predicted=!0,this.view.animate({zoom:10},{center:e.getCoordinates()})},n.prototype.getAvg=function(n,t){var l=n.map(function(n){return n[t]});return l.reduce(function(n,t){return n+t})/l.length},n.prototype.createStyle=function(n,t){return new b.d({fill:new b.b({color:n}),stroke:new b.c({color:t,width:2}),image:new b.a({radius:7,fill:new b.b({color:n})})})},n.ctorParameters=function(){return[{type:p.c}]},n}(),w=[""],Y=l("/oeL"),S=l("qbdv"),P=l("XKz0"),T=[w],k=Y._5({encapsulation:0,styles:T,data:{}}),F=Y._3("app-root",v,i,{},{},[]),x=l("/oeL"),E=l("qbdv"),j=l("fc+i"),z=l("XKz0"),G=l("bm2B"),D=x._4(a,[v],function(n){return x._19([x._20(512,x.i,x._0,[[8,[F]],[3,x.i],x.x]),x._20(5120,x.v,x._18,[[3,x.v]]),x._20(4608,E.e,E.d,[x.v]),x._20(4608,x.h,x.h,[]),x._20(5120,x.a,x._9,[]),x._20(5120,x.t,x._15,[]),x._20(5120,x.u,x._16,[]),x._20(4608,j.b,j.s,[E.b]),x._20(6144,x.J,null,[j.b]),x._20(4608,j.e,j.f,[]),x._20(5120,j.c,function(n,t,l,e){return[new j.k(n),new j.o(t),new j.n(l,e)]},[E.b,E.b,E.b,j.e]),x._20(4608,j.d,j.d,[j.c,x.z]),x._20(135680,j.m,j.m,[E.b]),x._20(4608,j.l,j.l,[j.d,j.m]),x._20(6144,x.H,null,[j.l]),x._20(6144,j.p,null,[j.m]),x._20(4608,x.O,x.O,[x.z]),x._20(4608,j.g,j.g,[E.b]),x._20(4608,j.i,j.i,[E.b]),x._20(4608,z.h,z.m,[E.b,x.C,z.k]),x._20(4608,z.n,z.n,[z.h,z.l]),x._20(5120,z.a,function(n){return[n]},[z.n]),x._20(4608,z.j,z.j,[]),x._20(6144,z.i,null,[z.j]),x._20(4608,z.g,z.g,[z.i]),x._20(6144,z.b,null,[z.g]),x._20(5120,z.f,z.o,[z.b,[2,z.a]]),x._20(4608,z.c,z.c,[z.f]),x._20(4608,G.c,G.c,[]),x._20(512,E.a,E.a,[]),x._20(1024,x.l,j.q,[]),x._20(1024,x.b,function(n,t){return[j.r(n,t)]},[[2,j.h],[2,x.y]]),x._20(512,x.c,x.c,[[2,x.b]]),x._20(131584,x._7,x._7,[x.z,x._1,x.r,x.l,x.i,x.c]),x._20(2048,x.e,null,[x._7]),x._20(512,x.d,x.d,[x.e]),x._20(512,j.a,j.a,[[3,j.a]]),x._20(512,z.e,z.e,[]),x._20(512,z.d,z.d,[]),x._20(512,G.b,G.b,[]),x._20(512,G.a,G.a,[]),x._20(512,a,a,[]),x._20(256,z.k,"XSRF-TOKEN",[]),x._20(256,z.l,"X-XSRF-TOKEN",[])])}),I=l("/oeL"),O=l("fc+i");r.production&&Object(I.U)(),Object(O.j)().bootstrapModuleFactory(D)},gFIY:function(n,t){function l(n){return new Promise(function(t,l){l(new Error("Cannot find module '"+n+"'."))})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);